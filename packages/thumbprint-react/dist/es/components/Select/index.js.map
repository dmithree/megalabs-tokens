{"version":3,"file":"index.js","sources":["../../../../components/Select/index.tsx"],"sourcesContent":["import React from 'react';\nimport * as tokens from '@thumbtack/thumbprint-tokens';\nimport classNames from 'classnames';\nimport styles from './index.module.scss';\nimport { NavigationCaretDownSmall } from '../../icons/index.jsx';\n\nconst iconColor = {\n    disabled: tokens.tpColorGray,\n    default: tokens.tpColorBlack,\n    error: tokens.tpColorRed,\n};\n\nconst getUIState = ({\n    isDisabled,\n    hasError,\n}: {\n    isDisabled: boolean;\n    hasError: boolean;\n}): 'disabled' | 'error' | 'default' => {\n    if (isDisabled) {\n        return 'disabled';\n    }\n\n    if (hasError) {\n        return 'error';\n    }\n\n    return 'default';\n};\n\ninterface PropTypes {\n    /**\n     * A collection of [HTML `<option>` elements](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option).\n     */\n    children?: React.ReactNode;\n    /**\n     * Adds a HTML `id` attribute to the select. This is used for linking the HTML with a\n     * [Label](/components/label/react/).\n     */\n    id?: string;\n    /**\n     * Visually and functionally disables the select dropdown.\n     */\n    isDisabled?: boolean;\n    /**\n     * Adds `required` HTML attribute to element, indicating that an option with a non-empty string\n     * value must be selected.\n     */\n    isRequired?: boolean;\n    /**\n     * Makes the radio and text color red.\n     */\n    hasError?: boolean;\n    /**\n     * Changes the selectâ€™s font-size, height, and padding.\n     */\n    size?: 'small' | 'large';\n    /**\n     * Set the `<select>`'s width to `100%` as opposed to the default behavior\n     * of only taking up the necessary width.\n     */\n    isFullWidth?: boolean;\n    /**\n     * The `value` of the `<option>` that is selected. See [React documentation\n     * on `<select>` and controlled components](https://facebook.github.io/react/docs/forms.html#the-select-tag)\n     * to learn more.\n     */\n    value: string;\n    /**\n     * Function that is fired when the value of the select changes.\n     */\n    onClick?: () => void;\n    /**\n     * A function that is fired when the value of the select changes. The\n     * new `value` is passed to the function.\n     */\n    onChange: (value: string, event: React.ChangeEvent<HTMLSelectElement>) => void;\n    /**\n     * Fires when the select receives focus.\n     */\n    onFocus?: () => void;\n    /**\n     * Fires when the select loses focus.\n     */\n    onBlur?: () => void;\n    /**\n     * A selector hook into the React component for use in automated testing environments.\n     */\n    dataTest?: string;\n    /**\n     * Adds `name` HTML attribute to element, indicating the property name associated with the\n     * selected value.\n     */\n    name?: string;\n}\n\nexport default function Select({\n    children,\n    dataTest,\n    hasError = false,\n    id,\n    isDisabled = false,\n    isFullWidth = false,\n    isRequired = false,\n    name,\n    onChange,\n    onFocus,\n    onBlur,\n    onClick = (): void => {},\n    size = 'large',\n    value,\n}: PropTypes): JSX.Element {\n    const uiState = getUIState({ isDisabled, hasError });\n\n    return (\n        <div\n            className={classNames({\n                [styles.root]: true,\n                [styles.rootWidthFull]: isFullWidth,\n            })}\n        >\n            <select\n                className={classNames({\n                    [styles.select]: true,\n                    [styles.selectStateDisabled]: uiState === 'disabled',\n                    [styles.selectStateError]: uiState === 'error',\n                    [styles.selectStateDefault]: uiState === 'default',\n                    [styles.selectSizeSmall]: size === 'small',\n                    [styles.selectSizeLarge]: size === 'large',\n                })}\n                id={id}\n                disabled={isDisabled}\n                required={isRequired}\n                value={value}\n                onClick={onClick}\n                onChange={(event): void => onChange(event.target.value, event)}\n                onFocus={onFocus}\n                onBlur={onBlur}\n                data-test={dataTest}\n                name={name}\n            >\n                {children}\n            </select>\n\n            <NavigationCaretDownSmall className={styles.caret} fill={iconColor[uiState]} />\n        </div>\n    );\n}\n"],"names":["iconColor","disabled","tokens","default","error","getUIState","isDisabled","hasError","Select","children","dataTest","id","isFullWidth","isRequired","name","onChange","onFocus","onBlur","onClick","size","value","uiState","classNames","styles","root","rootWidthFull","select","selectStateDisabled","selectStateError","selectStateDefault","selectSizeSmall","selectSizeLarge","event","target","caret"],"mappings":";;;;;;;;;;;;;;AAMA,IAAMA,SAAS,GAAG;EACdC,QAAQ,EAAEC,WADI;EAEdC,OAAO,EAAED,YAFK;EAGdE,KAAK,EAAEF;CAHX;;AAMA,IAAMG,UAAU,GAAG,SAAbA,UAAa,OAMqB;MALpCC,UAKoC,QALpCA,UAKoC;MAJpCC,QAIoC,QAJpCA,QAIoC;;MAChCD,UAAJ,EAAgB;WACL,UAAP;;;MAGAC,QAAJ,EAAc;WACH,OAAP;;;SAGG,SAAP;CAfJ;;AAoFA,AAAe,SAASC,MAAT,QAeY;;;MAdvBC,QAcuB,SAdvBA,QAcuB;MAbvBC,QAauB,SAbvBA,QAauB;6BAZvBH,QAYuB;MAZvBA,QAYuB,+BAZZ,KAYY;MAXvBI,EAWuB,SAXvBA,EAWuB;+BAVvBL,UAUuB;MAVvBA,UAUuB,iCAVV,KAUU;gCATvBM,WASuB;MATvBA,WASuB,kCATT,KASS;+BARvBC,UAQuB;MARvBA,UAQuB,iCARV,KAQU;MAPvBC,IAOuB,SAPvBA,IAOuB;MANvBC,SAMuB,SANvBA,QAMuB;MALvBC,OAKuB,SALvBA,OAKuB;MAJvBC,MAIuB,SAJvBA,MAIuB;4BAHvBC,OAGuB;MAHvBA,OAGuB,8BAHb,YAAY,EAGC;yBAFvBC,IAEuB;MAFvBA,IAEuB,2BAFhB,OAEgB;MADvBC,KACuB,SADvBA,KACuB;MACjBC,OAAO,GAAGhB,UAAU,CAAC;IAAEC,UAAU,EAAVA,UAAF;IAAcC,QAAQ,EAARA;GAAf,CAA1B;SAGI;IACI,SAAS,EAAEe,UAAU,iDAChBC,MAAM,CAACC,IADS,EACF,IADE,gCAEhBD,MAAM,CAACE,aAFS,EAEOb,WAFP;KAKrB;IACI,SAAS,EAAEU,UAAU,mDAChBC,MAAM,CAACG,MADS,EACA,IADA,iCAEhBH,MAAM,CAACI,mBAFS,EAEaN,OAAO,KAAK,UAFzB,iCAGhBE,MAAM,CAACK,gBAHS,EAGUP,OAAO,KAAK,OAHtB,iCAIhBE,MAAM,CAACM,kBAJS,EAIYR,OAAO,KAAK,SAJxB,iCAKhBE,MAAM,CAACO,eALS,EAKSX,IAAI,KAAK,OALlB,iCAMhBI,MAAM,CAACQ,eANS,EAMSZ,IAAI,KAAK,OANlB,iBADzB;IASI,EAAE,EAAER,EATR;IAUI,QAAQ,EAAEL,UAVd;IAWI,QAAQ,EAAEO,UAXd;IAYI,KAAK,EAAEO,KAZX;IAaI,OAAO,EAAEF,OAbb;IAcI,QAAQ,EAAE,kBAACc,KAAD;aAAiBjB,SAAQ,CAACiB,KAAK,CAACC,MAAN,CAAab,KAAd,EAAqBY,KAArB,CAAzB;KAdd;IAeI,OAAO,EAAEhB,OAfb;IAgBI,MAAM,EAAEC,MAhBZ;iBAiBeP,QAjBf;IAkBI,IAAI,EAAEI;KAELL,QApBL,CANJ,EA6BI,oBAAC,wBAAD;IAA0B,SAAS,EAAEc,MAAM,CAACW,KAA5C;IAAmD,IAAI,EAAElC,SAAS,CAACqB,OAAD;IA7BtE,CADJ;;;;;"}