{"version":3,"file":"transition.js","sources":["../../../../../components/ModalDefault/components/transition.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EXITED = 'exited';\nconst ENTERING = 'entering';\nconst ENTERED = 'entered';\nconst EXITING = 'exiting';\n\nconst propTypes = {\n    children: PropTypes.func.isRequired,\n    in: PropTypes.bool.isRequired,\n    timeout: PropTypes.shape({\n        enter: PropTypes.number.isRequired,\n        exit: PropTypes.number.isRequired,\n    }).isRequired,\n    onEntered: PropTypes.func,\n    onExited: PropTypes.func,\n};\n\nconst defaultProps = {\n    onEntered: undefined,\n    onExited: undefined,\n};\n\nclass Transition extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            stage: null,\n        };\n    }\n\n    componentDidMount() {\n        const { in: inProp } = this.props;\n\n        this.setState({\n            stage: inProp ? ENTERING : EXITED,\n        });\n\n        this.onEntering = this.onEntering.bind(this);\n        this.onEntered = this.onEntered.bind(this);\n        this.onExiting = this.onExiting.bind(this);\n        this.onExited = this.onExited.bind(this);\n        this.clearExistingTimeout = this.clearExistingTimeout.bind(this);\n\n        this.currentTimeout = null;\n\n        // Call `onEntered` If the modal is immediately open when it mounts.\n        if (inProp) {\n            this.onEntered();\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const { in: inProp } = this.props;\n\n        if (prevProps.in !== inProp) {\n            this.clearExistingTimeout();\n\n            if (inProp) {\n                this.onEntering();\n            } else {\n                this.onExiting();\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.clearExistingTimeout();\n    }\n\n    onEntering() {\n        const { timeout } = this.props;\n\n        this.setState({ stage: ENTERING });\n        this.currentTimeout = setTimeout(this.onEntered, timeout.enter);\n    }\n\n    onEntered() {\n        const { onEntered } = this.props;\n\n        this.setState({ stage: ENTERED });\n\n        if (onEntered) {\n            onEntered();\n        }\n    }\n\n    onExiting() {\n        const { timeout } = this.props;\n\n        this.setState({ stage: EXITING });\n        this.currentTimeout = setTimeout(this.onExited, timeout.exit);\n    }\n\n    onExited() {\n        const { onExited } = this.props;\n\n        this.setState({ stage: EXITED });\n\n        if (onExited) {\n            onExited();\n        }\n    }\n\n    clearExistingTimeout() {\n        if (this.currentTimeout) {\n            clearTimeout(this.currentTimeout);\n        }\n    }\n\n    render() {\n        const { stage } = this.state;\n        const { children } = this.props;\n\n        if (!stage) {\n            return null;\n        }\n\n        return children(stage);\n    }\n}\n\nTransition.propTypes = propTypes;\nTransition.defaultProps = defaultProps;\n\nexport default Transition;\n"],"names":["EXITED","ENTERING","ENTERED","EXITING","propTypes","children","PropTypes","func","isRequired","in","bool","timeout","shape","enter","number","exit","onEntered","onExited","defaultProps","undefined","Transition","props","state","stage","inProp","setState","onEntering","bind","onExiting","clearExistingTimeout","currentTimeout","prevProps","setTimeout","clearTimeout","React","Component"],"mappings":"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"}